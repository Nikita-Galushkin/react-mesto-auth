{"ast":null,"code":"import _objectWithoutProperties from\"/Users/family/dev/mesto-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";import _slicedToArray from\"/Users/family/dev/mesto-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from'react';import api from'../utils/api.js';import Card from'./Card.js';function Main(_ref){var onEditAvatar=_ref.onEditAvatar,onEditProfile=_ref.onEditProfile,onAddPlace=_ref.onAddPlace,onCardClick=_ref.onCardClick;var _React$useState=React.useState(),_React$useState2=_slicedToArray(_React$useState,2),userName=_React$useState2[0],setUserName=_React$useState2[1];var _React$useState3=React.useState(),_React$useState4=_slicedToArray(_React$useState3,2),userDescription=_React$useState4[0],setUserDescription=_React$useState4[1];var _React$useState5=React.useState(),_React$useState6=_slicedToArray(_React$useState5,2),userAvatar=_React$useState6[0],setUserAvatar=_React$useState6[1];var _React$useState7=React.useState([]),_React$useState8=_slicedToArray(_React$useState7,2),cards=_React$useState8[0],setCards=_React$useState8[1];React.useEffect(function(){api.getUserInfo().then(function(info){setUserName(info.name);setUserDescription(info.about);setUserAvatar(info.avatar);});},[]);React.useEffect(function(){api.getInitialsCards().then(function(data){var card=data.map(function(el){return{title:el.name,src:el.link,likes:el.likes,id:el._id};});setCards(card);});},[]);return/*#__PURE__*/React.createElement(\"main\",{className:\"content page__content\"},/*#__PURE__*/React.createElement(\"section\",{className:\"profile section content__section\"},/*#__PURE__*/React.createElement(\"div\",{className:\"profile__info\"},/*#__PURE__*/React.createElement(\"button\",{className:\"profile__image-button\",type:\"button\",onClick:onEditAvatar},/*#__PURE__*/React.createElement(\"div\",{className:\"profile__icon\"}),/*#__PURE__*/React.createElement(\"img\",{src:userAvatar,alt:\"\\u0444\\u043E\\u0442\\u043E\",className:\"profile__image\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"profile__edit\"},/*#__PURE__*/React.createElement(\"div\",{className:\"profile__text\"},/*#__PURE__*/React.createElement(\"h1\",{className:\"profile__title\"},userName),/*#__PURE__*/React.createElement(\"p\",{className:\"profile__subtitle\"},userDescription)),/*#__PURE__*/React.createElement(\"button\",{className:\"profile__edit-button\",type:\"button\",onClick:onEditProfile}))),/*#__PURE__*/React.createElement(\"button\",{className:\"profile__add-button\",type:\"button\",onClick:onAddPlace})),/*#__PURE__*/React.createElement(\"section\",{className:\"elements section content__section\"},/*#__PURE__*/React.createElement(\"ul\",{className:\"elements__list\"},cards.map(function(_ref2){var id=_ref2.id,item=_objectWithoutProperties(_ref2,[\"id\"]);return/*#__PURE__*/React.createElement(Card,Object.assign({key:id},item,{onCardClick:onCardClick}));}))));}export default Main;","map":{"version":3,"sources":["/Users/family/dev/mesto-react/src/components/Main.js"],"names":["React","api","Card","Main","onEditAvatar","onEditProfile","onAddPlace","onCardClick","useState","userName","setUserName","userDescription","setUserDescription","userAvatar","setUserAvatar","cards","setCards","useEffect","getUserInfo","then","info","name","about","avatar","getInitialsCards","data","card","map","el","title","src","link","likes","id","_id","item"],"mappings":"4TAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,GAAP,KAAgB,iBAAhB,CACA,MAAOC,CAAAA,IAAP,KAAiB,WAAjB,CAEA,QAASC,CAAAA,IAAT,MAAwE,IAAxDC,CAAAA,YAAwD,MAAxDA,YAAwD,CAA1CC,aAA0C,MAA1CA,aAA0C,CAA3BC,UAA2B,MAA3BA,UAA2B,CAAfC,WAAe,MAAfA,WAAe,qBACtCP,KAAK,CAACQ,QAAN,EADsC,oDAC/DC,QAD+D,qBACrDC,WADqD,0CAExBV,KAAK,CAACQ,QAAN,EAFwB,qDAE/DG,eAF+D,qBAE9CC,kBAF8C,0CAGlCZ,KAAK,CAACQ,QAAN,EAHkC,qDAG/DK,UAH+D,qBAGnDC,aAHmD,0CAI5Cd,KAAK,CAACQ,QAAN,CAAe,EAAf,CAJ4C,qDAI/DO,KAJ+D,qBAIxDC,QAJwD,qBAMtEhB,KAAK,CAACiB,SAAN,CAAgB,UAAM,CACpBhB,GAAG,CAACiB,WAAJ,GACCC,IADD,CACM,SAACC,IAAD,CAAU,CACdV,WAAW,CAACU,IAAI,CAACC,IAAN,CAAX,CACAT,kBAAkB,CAACQ,IAAI,CAACE,KAAN,CAAlB,CACAR,aAAa,CAACM,IAAI,CAACG,MAAN,CAAb,CACD,CALD,EAMD,CAPD,CAOG,EAPH,EASAvB,KAAK,CAACiB,SAAN,CAAgB,UAAM,CACpBhB,GAAG,CAACuB,gBAAJ,GACCL,IADD,CACM,SAACM,IAAD,CAAU,CACd,GAAMC,CAAAA,IAAI,CAAGD,IAAI,CAACE,GAAL,CAAS,SAACC,EAAD,QAAS,CAC7BC,KAAK,CAAED,EAAE,CAACP,IADmB,CAE7BS,GAAG,CAAEF,EAAE,CAACG,IAFqB,CAG7BC,KAAK,CAAEJ,EAAE,CAACI,KAHmB,CAI7BC,EAAE,CAAEL,EAAE,CAACM,GAJsB,CAAT,EAAT,CAAb,CAMAlB,QAAQ,CAACU,IAAD,CAAR,CACD,CATD,EAUD,CAXD,CAWG,EAXH,EAaA,mBACE,4BAAM,SAAS,CAAC,uBAAhB,eACE,+BAAS,SAAS,CAAC,kCAAnB,eACE,2BAAK,SAAS,CAAC,eAAf,eACE,8BAAQ,SAAS,CAAC,uBAAlB,CAA0C,IAAI,CAAC,QAA/C,CAAwD,OAAO,CAAEtB,YAAjE,eACE,2BAAK,SAAS,CAAC,eAAf,EADF,cAEE,2BAAK,GAAG,CAAES,UAAV,CAAsB,GAAG,CAAC,0BAA1B,CAAiC,SAAS,CAAC,gBAA3C,EAFF,CADF,cAKE,2BAAK,SAAS,CAAC,eAAf,eACE,2BAAK,SAAS,CAAC,eAAf,eACE,0BAAI,SAAS,CAAC,gBAAd,EAAgCJ,QAAhC,CADF,cAEE,yBAAG,SAAS,CAAC,mBAAb,EAAkCE,eAAlC,CAFF,CADF,cAKE,8BAAQ,SAAS,CAAC,sBAAlB,CAAyC,IAAI,CAAC,QAA9C,CAAuD,OAAO,CAAEN,aAAhE,EALF,CALF,CADF,cAcE,8BAAQ,SAAS,CAAC,qBAAlB,CAAwC,IAAI,CAAC,QAA7C,CAAsD,OAAO,CAAEC,UAA/D,EAdF,CADF,cAiBE,+BAAS,SAAS,CAAC,mCAAnB,eACE,0BAAI,SAAS,CAAC,gBAAd,EACGS,KAAK,CAACY,GAAN,CAAU,mBAAEM,CAAAA,EAAF,OAAEA,EAAF,CAASE,IAAT,2DACT,oBAAC,IAAD,gBACE,GAAG,CAAEF,EADP,EAEME,IAFN,EAGE,WAAW,CAAE5B,WAHf,GADS,EAAV,CADH,CADF,CAjBF,CADF,CA+BD,CAED,cAAeJ,CAAAA,IAAf","sourcesContent":["import React from 'react';\nimport api from '../utils/api.js';\nimport Card from './Card.js';\n\nfunction Main({ onEditAvatar, onEditProfile, onAddPlace, onCardClick }) {\n  const [userName, setUserName] = React.useState();\n  const [userDescription, setUserDescription] = React.useState();\n  const [userAvatar, setUserAvatar] = React.useState();\n  const [cards, setCards] = React.useState([]);\n\n  React.useEffect(() => {\n    api.getUserInfo()\n    .then((info) => {\n      setUserName(info.name);\n      setUserDescription(info.about);\n      setUserAvatar(info.avatar);\n    });\n  }, []);\n\n  React.useEffect(() => {\n    api.getInitialsCards()\n    .then((data) => {\n      const card = data.map((el) => ({\n        title: el.name,\n        src: el.link,\n        likes: el.likes,\n        id: el._id\n      })) \n      setCards(card)\n    });\n  }, []);\n\n  return (\n    <main className=\"content page__content\">\n      <section className=\"profile section content__section\">\n        <div className=\"profile__info\">\n          <button className=\"profile__image-button\" type=\"button\" onClick={onEditAvatar}>\n            <div className=\"profile__icon\"></div>\n            <img src={userAvatar} alt=\"фото\" className=\"profile__image\" />\n          </button>\n          <div className=\"profile__edit\">\n            <div className=\"profile__text\">\n              <h1 className=\"profile__title\">{userName}</h1>\n              <p className=\"profile__subtitle\">{userDescription}</p>\n            </div>\n            <button className=\"profile__edit-button\" type=\"button\" onClick={onEditProfile}></button>\n          </div>\n        </div>\n        <button className=\"profile__add-button\" type=\"button\" onClick={onAddPlace}></button>\n      </section>\n      <section className=\"elements section content__section\">\n        <ul className=\"elements__list\">\n          {cards.map(({id, ...item}) => \n            <Card \n              key={id} \n              {...item} \n              onCardClick={onCardClick} \n            />\n          )}\n        </ul>\n      </section>\n    </main>\n  );\n}\n\nexport default Main;"]},"metadata":{},"sourceType":"module"}