{"ast":null,"code":"import _slicedToArray from\"/Users/family/dev/react-mesto-auth/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from'react';import PopupWithForm from'./PopupWithForm.js';import CurrentUserContext from'../contexts/CurrentUserContext.js';function EditProfilePopup(_ref){var isOpen=_ref.isOpen,onClose=_ref.onClose,onUpdateUser=_ref.onUpdateUser;var _React$useState=React.useState(''),_React$useState2=_slicedToArray(_React$useState,2),name=_React$useState2[0],setName=_React$useState2[1];var _React$useState3=React.useState(''),_React$useState4=_slicedToArray(_React$useState3,2),description=_React$useState4[0],setDescription=_React$useState4[1];var currentUser=React.useContext(CurrentUserContext);function handleChangeName(e){setName(e.target.value);}function handleChangeDescription(e){setDescription(e.target.value);}function handleSubmit(e){e.preventDefault();onUpdateUser({name:name,about:description});}React.useEffect(function(){setName(currentUser.name);setDescription(currentUser.about);},[currentUser]);return/*#__PURE__*/React.createElement(PopupWithForm,{name:'edit-profile',title:'Редактировать профиль',children:/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"label\",null,/*#__PURE__*/React.createElement(\"input\",{type:\"text\",value:name||'',onChange:handleChangeName,className:\"modal__item modal__item_type_name\",name:\"name\",placeholder:\"\\u0424\\u0418\\u041E\",required:true,minLength:\"2\",maxLength:\"40\"}),/*#__PURE__*/React.createElement(\"span\",{id:\"name-error\",className:\"modal__item-error\"})),/*#__PURE__*/React.createElement(\"label\",null,/*#__PURE__*/React.createElement(\"input\",{type:\"text\",value:description||'',onChange:handleChangeDescription,className:\"modal__item modal__item_type_profession\",name:\"about\",placeholder:\"\\u041F\\u0440\\u043E\\u0444\\u0435\\u0441\\u0441\\u0438\\u044F\",required:true,minLength:\"2\",maxLength:\"200\"}),/*#__PURE__*/React.createElement(\"span\",{id:\"about-error\",className:\"modal__item-error\"}))),text:'Сохранить',isOpen:isOpen,onClose:onClose,onSubmit:handleSubmit});}export default EditProfilePopup;","map":{"version":3,"sources":["/Users/family/dev/react-mesto-auth/src/components/EditProfilePopup.js"],"names":["React","PopupWithForm","CurrentUserContext","EditProfilePopup","isOpen","onClose","onUpdateUser","useState","name","setName","description","setDescription","currentUser","useContext","handleChangeName","e","target","value","handleChangeDescription","handleSubmit","preventDefault","about","useEffect"],"mappings":"yJAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,aAAP,KAA0B,oBAA1B,CACA,MAAOC,CAAAA,kBAAP,KAA+B,mCAA/B,CAEA,QAASC,CAAAA,gBAAT,MAA6D,IAAjCC,CAAAA,MAAiC,MAAjCA,MAAiC,CAAzBC,OAAyB,MAAzBA,OAAyB,CAAhBC,YAAgB,MAAhBA,YAAgB,qBACnCN,KAAK,CAACO,QAAN,CAAe,EAAf,CADmC,oDACpDC,IADoD,qBAC9CC,OAD8C,0CAErBT,KAAK,CAACO,QAAN,CAAe,EAAf,CAFqB,qDAEpDG,WAFoD,qBAEvCC,cAFuC,qBAG3D,GAAMC,CAAAA,WAAW,CAAGZ,KAAK,CAACa,UAAN,CAAiBX,kBAAjB,CAApB,CAEA,QAASY,CAAAA,gBAAT,CAA0BC,CAA1B,CAA6B,CAC3BN,OAAO,CAACM,CAAC,CAACC,MAAF,CAASC,KAAV,CAAP,CACD,CAED,QAASC,CAAAA,uBAAT,CAAiCH,CAAjC,CAAoC,CAClCJ,cAAc,CAACI,CAAC,CAACC,MAAF,CAASC,KAAV,CAAd,CACD,CAED,QAASE,CAAAA,YAAT,CAAsBJ,CAAtB,CAAyB,CACvBA,CAAC,CAACK,cAAF,GACAd,YAAY,CAAC,CACXE,IAAI,CAAJA,IADW,CAEXa,KAAK,CAAEX,WAFI,CAAD,CAAZ,CAID,CAEDV,KAAK,CAACsB,SAAN,CAAgB,UAAM,CACpBb,OAAO,CAACG,WAAW,CAACJ,IAAb,CAAP,CACAG,cAAc,CAACC,WAAW,CAACS,KAAb,CAAd,CACD,CAHD,CAGG,CAACT,WAAD,CAHH,EAKA,mBACE,oBAAC,aAAD,EACE,IAAI,CAAE,cADR,CAEE,KAAK,CAAE,uBAFT,CAGE,QAAQ,cACN,qDACE,8CACE,6BAAO,IAAI,CAAC,MAAZ,CAAmB,KAAK,CAAEJ,IAAI,EAAI,EAAlC,CAAsC,QAAQ,CAAEM,gBAAhD,CAAkE,SAAS,CAAC,mCAA5E,CAAgH,IAAI,CAAC,MAArH,CAA4H,WAAW,CAAC,oBAAxI,CAA8I,QAAQ,KAAtJ,CAAuJ,SAAS,CAAC,GAAjK,CAAqK,SAAS,CAAC,IAA/K,EADF,cAEE,4BAAM,EAAE,CAAC,YAAT,CAAsB,SAAS,CAAC,mBAAhC,EAFF,CADF,cAKE,8CACE,6BAAO,IAAI,CAAC,MAAZ,CAAmB,KAAK,CAAEJ,WAAW,EAAI,EAAzC,CAA6C,QAAQ,CAAEQ,uBAAvD,CAAgF,SAAS,CAAC,yCAA1F,CAAoI,IAAI,CAAC,OAAzI,CAAiJ,WAAW,CAAC,wDAA7J,CAAyK,QAAQ,KAAjL,CAAkL,SAAS,CAAC,GAA5L,CAAgM,SAAS,CAAC,KAA1M,EADF,cAEE,4BAAM,EAAE,CAAC,aAAT,CAAuB,SAAS,CAAC,mBAAjC,EAFF,CALF,CAJJ,CAeE,IAAI,CAAE,WAfR,CAgBE,MAAM,CAAEd,MAhBV,CAiBE,OAAO,CAAEC,OAjBX,CAkBE,QAAQ,CAAEc,YAlBZ,EADF,CAsBD,CAED,cAAehB,CAAAA,gBAAf","sourcesContent":["import React from 'react';\nimport PopupWithForm from './PopupWithForm.js';\nimport CurrentUserContext from '../contexts/CurrentUserContext.js';\n\nfunction EditProfilePopup({ isOpen, onClose, onUpdateUser }) {\n  const [name, setName] = React.useState('');\n  const [description, setDescription] = React.useState('');\n  const currentUser = React.useContext(CurrentUserContext);\n\n  function handleChangeName(e) {\n    setName(e.target.value);\n  }\n\n  function handleChangeDescription(e) {\n    setDescription(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    onUpdateUser({\n      name,\n      about: description,\n    });\n  }\n\n  React.useEffect(() => {\n    setName(currentUser.name);\n    setDescription(currentUser.about);\n  }, [currentUser]);\n\n  return (\n    <PopupWithForm \n      name={'edit-profile'} \n      title={'Редактировать профиль'} \n      children={\n        <>\n          <label>\n            <input type=\"text\" value={name || ''} onChange={handleChangeName} className=\"modal__item modal__item_type_name\" name=\"name\" placeholder=\"ФИО\" required minLength=\"2\" maxLength=\"40\" />\n            <span id=\"name-error\" className=\"modal__item-error\"></span>\n          </label>\n          <label>\n            <input type=\"text\" value={description || ''} onChange={handleChangeDescription} className=\"modal__item modal__item_type_profession\" name=\"about\" placeholder=\"Профессия\" required minLength=\"2\" maxLength=\"200\" />\n            <span id=\"about-error\" className=\"modal__item-error\"></span>\n          </label>\n        </>\n      } \n      text={'Сохранить'}\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n    />\n  );\n}\n\nexport default EditProfilePopup;"]},"metadata":{},"sourceType":"module"}