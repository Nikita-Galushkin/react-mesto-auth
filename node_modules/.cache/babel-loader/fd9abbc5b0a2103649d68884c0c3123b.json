{"ast":null,"code":"var _jsxFileName = \"/Users/family/dev/mesto-react/src/components/Main.js\";\nimport React from 'react';\nimport api from '../utils/api.js';\nimport Card from './Card.js';\nimport CurrentUserContext from '../contexts/CurrentUserContext.js';\n\nfunction Main({\n  onEditAvatar,\n  onEditProfile,\n  onAddPlace,\n  onCardClick\n}) {\n  const currentUser = React.useContext(CurrentUserContext);\n  const [cards, setCards] = React.useState([]);\n  React.useEffect(() => {\n    api.getInitialsCards().then(data => {\n      setCards(data);\n    }).catch(err => console.log(err));\n  }, []);\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n    api.changeLikeCardStatus(card._id, !isLiked).then(newCard => {\n      const newCards = cards.map(c => c._id === card._id ? newCard : c);\n      setCards(newCards);\n    }).catch(err => console.log(err));\n  }\n\n  function handleCardDelete(card) {\n    api.removeCard(card._id).then(card => {\n      const newArrCards = cards.filter();\n      setCards(newArrCards);\n    }).catch(err => console.log(err));\n  }\n\n  return /*#__PURE__*/React.createElement(\"main\", {\n    className: \"content page__content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"section\", {\n    className: \"profile section content__section\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"profile__info\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"profile__image-button\",\n    type: \"button\",\n    onClick: onEditAvatar,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"profile__icon\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"img\", {\n    src: currentUser.avatar,\n    alt: \"\\u0444\\u043E\\u0442\\u043E\",\n    className: \"profile__image\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"profile__edit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"profile__text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"profile__title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 15\n    }\n  }, currentUser.name), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"profile__subtitle\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 15\n    }\n  }, currentUser.about)), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"profile__edit-button\",\n    type: \"button\",\n    onClick: onEditProfile,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }\n  }))), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"profile__add-button\",\n    type: \"button\",\n    onClick: onAddPlace,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"section\", {\n    className: \"elements section content__section\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"elements__list\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 9\n    }\n  }, cards && cards.map(card => /*#__PURE__*/React.createElement(Card, {\n    key: card._id,\n    card: card,\n    onCardClick: onCardClick,\n    onCardLike: handleCardLike,\n    onCardDelete: handleCardDelete,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }\n  })))));\n}\n\nexport default Main;","map":{"version":3,"sources":["/Users/family/dev/mesto-react/src/components/Main.js"],"names":["React","api","Card","CurrentUserContext","Main","onEditAvatar","onEditProfile","onAddPlace","onCardClick","currentUser","useContext","cards","setCards","useState","useEffect","getInitialsCards","then","data","catch","err","console","log","handleCardLike","card","isLiked","likes","some","i","_id","changeLikeCardStatus","newCard","newCards","map","c","handleCardDelete","removeCard","newArrCards","filter","avatar","name","about"],"mappings":"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","sourcesContent":["import React from 'react';\nimport api from '../utils/api.js';\nimport Card from './Card.js';\nimport CurrentUserContext from '../contexts/CurrentUserContext.js';\n\nfunction Main({ onEditAvatar, onEditProfile, onAddPlace, onCardClick }) {\n  const currentUser = React.useContext(CurrentUserContext);\n  const [cards, setCards] = React.useState([]);\n\n  React.useEffect(() => {\n    api.getInitialsCards()\n      .then((data) => {\n        setCards(data)\n      })\n      .catch((err) => console.log(err));\n  }, []);\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n    api.changeLikeCardStatus(card._id, !isLiked)\n      .then((newCard) => {\n        const newCards = cards.map((c) => c._id === card._id ? newCard : c);\n        setCards(newCards);\n      })\n      .catch((err) => console.log(err));\n  }\n  \n  function handleCardDelete(card) {\n    api.removeCard(card._id)\n      .then((card) => {\n        const newArrCards = cards.filter()\n        setCards(newArrCards);\n      })\n      .catch((err) => console.log(err));\n  }\n\n  return (\n    <main className=\"content page__content\">\n      <section className=\"profile section content__section\">\n        <div className=\"profile__info\">\n          <button className=\"profile__image-button\" type=\"button\" onClick={onEditAvatar}>\n            <div className=\"profile__icon\"></div>\n            <img src={currentUser.avatar} alt=\"фото\" className=\"profile__image\" />\n          </button>\n          <div className=\"profile__edit\">\n            <div className=\"profile__text\">\n              <h1 className=\"profile__title\">{currentUser.name}</h1>\n              <p className=\"profile__subtitle\">{currentUser.about}</p>\n            </div>\n            <button className=\"profile__edit-button\" type=\"button\" onClick={onEditProfile}></button>\n          </div>\n        </div>\n        <button className=\"profile__add-button\" type=\"button\" onClick={onAddPlace}></button>\n      </section>\n      <section className=\"elements section content__section\">\n        <ul className=\"elements__list\">\n          {cards && cards.map((card) =>\n            <Card \n              key={card._id} \n              card={card} \n              onCardClick={onCardClick}\n              onCardLike={handleCardLike}\n              onCardDelete={handleCardDelete}\n            />\n          )}\n        </ul>\n      </section>\n    </main>\n  );\n}\n\nexport default Main;"]},"metadata":{},"sourceType":"module"}